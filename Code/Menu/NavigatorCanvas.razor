@using System
@using Sandbox
@using Sandbox.UI
@attribute [StyleSheet]
@inherits NavHostPanel

<root class="navigator-canvas" slot="navigator-canvas">
</root>

@code 
{
    public NavigatorCanvas()
    {
        DefaultUrl = "/";

        AddDestination("/", typeof(FrontPage));
        AddDestination("/active", typeof(ActivePage));
        AddDestination("/settings", typeof(SettingsPage));

        if /* ( Game.InGame ) */ (Game.ActiveScene.Title == "ingame") Navigate("/active");
    }

    protected override void OnEvent(PanelEvent e)
    {
        if (e.Name == "package.changed")
        {
            StateHasChanged();
            return;
        }
    }

    /*
    [GameEvent.Menu.ServerJoined]
    public void OnServerJoined() => Navigate("/active");

    [GameEvent.Menu.LobbyJoined]
    public void OnLobbyJoined() => Navigate("/lobby");

    [GameEvent.Menu.LobbyLeave]
    public void OnLobbyLeave() => Navigate("/");

    [GameEvent.Menu.ServerLeave]
    public void OnServerLeave() => Navigate("/");
    */
}
